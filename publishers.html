<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>SubToMe - Publishers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="src/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="src/subtome.css" rel="stylesheet">
    <link rel="icon" href="src/ico/favicon.ico">
    <script src="src/jquery/jquery.js"></script>
    <script src="src/bootstrap/js/bootstrap.js"></script>
    <script src="/build/settings.subtome.js"></script>
    <style type="text/css">
      body {
        padding-top: 20px;
        padding-bottom: 40px;
      }

      /* Custom container */
      .container-narrow {
        margin: 0 auto;
        max-width: 700px;
      }
      .container-narrow > hr {
        margin: 30px 0;
      }

    </style>
    <link href="src/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="shortcut icon" href="src/ico/favicon.ico">
    <link rel="alternate" href="https://github.com/superfeedr/subtome/commits/master.atom" title="SubToMe code commits" />
  </head>

  <body>
    <script>
    if(window.location.host == 'www.subtome.com' && window.location.protocol != 'https:') {
      window.location.replace('https' + window.location.href.substr(4));
    }
    </script>

    <div class="container-narrow">

      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="/settings.html">Settings</a></li>
          <li class="active" ><a href="/publishers.html">Add a button to your site</a></li>
          <li><a href="/developers.html">Apps</a></li>
        </ul>
        <h3 class="muted"><a href="/" class='subtome'><img src="src/img/subtome-small.png" style="height: 35px;"/></a></h3>
      </div>

      <hr>
      <h1>Publishers</h1>
      <h2>Get your readers to subscribe to your content</h2>
      <p>
        You update your content regularly. You want your users to come back when that happens: allow them to <em>subscribe</em> to your content.
      </p>
      <p>
        It's as easy as adding a button like this one <button onclick="(function(){var z=document.createElement('script');z.src='/load.js';document.body.appendChild(z);})()" class='btn btn-mini'>Subscribe</button> to any page where you want to allow subscriptions. Make sure your page links to a feed corresponding to the data your readers will susbcribe to.
      </p>
      <p>
        Copy and paste the code below into any HTML page.
      </p>
      <p>
        <script src="https://gist.github.com/4332573.js"></script>
      </p>

      <p>What this does is quite simple: when the user clicks the button, it loads a small Javascript snippet located at <code><a href="https://www.subtome.com/load.js">https://www.subtome.com/load.js</a></code>. This snippet will then load the SubToMe modal. Feel free to check the code if you want to learn more.</p>

      <p>Of course, this is 100% open, which means that you can change that code in any way you want, or use other mechanisms that fit your needs. Feel free to get in touch if you need help.</p>

      <h3>Easy way</h3>
      <p>If you use Wordpress for your blog, just add this <a href="http://wordpress.org/extend/plugins/subtome">SubToMe widget</a> to your layout, or look for <i>SubToMe</i> in your dashboard's 'Install Plugins' interface.</p>

      <h3>Custom way</h3>
      <p>Of course, each publisher has their own constraints, and SubToMe is pretty flexible. For example, you may want to make buttons for several feeds, buttons that load a feed which is not linked on the page directly, or you may even not want to show a button at all and show the SubToMe frame when the user comes to your site first... etc</p>

      <p>This is all possible, but you'll have to come up with some code. Don't use the <code>load.js</code> file, just insert an <code>iframe</code> in your page which will show the SubToMe modal. Use the following <code>src</code> attribute: <code>https://www.subtome.com/subscribe.html?resource={resource}&feeds={feeds}</code>.</p>
      <ul>
        <li><code>{resource}</code> is the encoded url of the web resource to which the user is subscribing. It does not need to be a feed!</li>
        <li><code>{feeds}</code> is a coma separated list of encoded feed urls. There can obviously be just one.</li>
      </ul>

      <p>For example, this button will allow you to <input id='superfeedrBlogButton' class="btn btn-mini" type="button" value="subscribe to Superfeedr's Blog" />, while this button will allow you to <input  id='subtomeCommitsButton' class="btn btn-mini" type="button" value="follow SubToMe's code commits" />.

      <hr>

      <div class="footer">
        <p>Brought to you by <a href="http://superfeedr.com">Superfeedr</a> <img src="https://www.gravatar.com/avatar/a2f7d4dd6df7dd59e4adab811c00a3a1?s=24" style="vertical-align:middle;">.</p>
      </div>

    </div> <!-- /container -->

    <script src="src/jquery/jquery.js"></script>
    <script src="src/bootstrap/js/bootstrap.js"></script>

    <a href="https://github.com/superfeedr/subtome"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>

    <script>
      $("#superfeedrBlogButton").click(function() {
        var s = document.createElement('iframe');
        s.setAttribute('style','position:fixed;top:0px; left:0px; width:100%; height:100%; border:0px; background: transparent; z-index: 2147483647');
        s.setAttribute('src', 'https://www.subtome.com/subscribe.html?resource=' + encodeURIComponent('http://blog.superfeedr.com/') + '&feeds=' + encodeURIComponent('http://blog.superfeedr.com/atom.xml'));
        var loaded = false;
        s.onload = function() {
          if(loaded) {
            document.getElementsByTagName('body')[0].removeChild(s);
          }
          loaded = true;
        }
        document.getElementsByTagName('body')[0].appendChild(s);

      });
      $("#subtomeCommitsButton").click(function() {
        var s = document.createElement('iframe');
        s.setAttribute('style','position:fixed;top:0px; left:0px; width:100%; height:100%; border:0px; background: transparent; z-index: 2147483647');
        s.setAttribute('src', 'https://www.subtome.com/subscribe.html?resource=' + encodeURIComponent('https://github.com/superfeedr/subtome') + '&feeds=' + encodeURIComponent('https://github.com/superfeedr/subtome/commits/master.atom'));
        var loaded = false;
        s.onload = function() {
          if(loaded) {
            document.getElementsByTagName('body')[0].removeChild(s);
          }
          loaded = true;
        }
        document.getElementsByTagName('body')[0].appendChild(s);

      });
    </script>

    <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39876787-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    </script>
  </body>
</html>
